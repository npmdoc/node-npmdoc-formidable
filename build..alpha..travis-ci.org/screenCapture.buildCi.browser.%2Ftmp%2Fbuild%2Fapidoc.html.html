<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="https://github.com/felixge/node-formidable">formidable (v1.1.1)</a>
</h1>
<h4>A node.js module for parsing form data, especially file uploads.</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.formidable">module formidable</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.formidable.formidable">
            function <span class="apidocSignatureSpan"></span>formidable
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.formidable.IncomingForm">
            function <span class="apidocSignatureSpan">formidable.</span>IncomingForm
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.formidable.file">
            function <span class="apidocSignatureSpan">formidable.</span>file
            <span class="apidocSignatureSpan">(properties)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.formidable.super_">
            function <span class="apidocSignatureSpan">formidable.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">formidable.</span>IncomingForm.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">formidable.</span>file.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">formidable.</span>incoming_form</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">formidable.</span>json_parser</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">formidable.</span>multipart_parser</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">formidable.</span>octet_parser</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">formidable.</span>querystring_parser</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.formidable.IncomingForm">module formidable.IncomingForm</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.formidable.IncomingForm.IncomingForm">
            function <span class="apidocSignatureSpan">formidable.</span>IncomingForm
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.formidable.IncomingForm.super_">
            function <span class="apidocSignatureSpan">formidable.IncomingForm.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.formidable.IncomingForm.prototype">module formidable.IncomingForm.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.formidable.IncomingForm.prototype._error">
            function <span class="apidocSignatureSpan">formidable.IncomingForm.prototype.</span>_error
            <span class="apidocSignatureSpan">(err)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.formidable.IncomingForm.prototype._fileName">
            function <span class="apidocSignatureSpan">formidable.IncomingForm.prototype.</span>_fileName
            <span class="apidocSignatureSpan">(headerValue)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.formidable.IncomingForm.prototype._initJSONencoded">
            function <span class="apidocSignatureSpan">formidable.IncomingForm.prototype.</span>_initJSONencoded
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.formidable.IncomingForm.prototype._initMultipart">
            function <span class="apidocSignatureSpan">formidable.IncomingForm.prototype.</span>_initMultipart
            <span class="apidocSignatureSpan">(boundary)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.formidable.IncomingForm.prototype._initOctetStream">
            function <span class="apidocSignatureSpan">formidable.IncomingForm.prototype.</span>_initOctetStream
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.formidable.IncomingForm.prototype._initUrlencoded">
            function <span class="apidocSignatureSpan">formidable.IncomingForm.prototype.</span>_initUrlencoded
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.formidable.IncomingForm.prototype._maybeEnd">
            function <span class="apidocSignatureSpan">formidable.IncomingForm.prototype.</span>_maybeEnd
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.formidable.IncomingForm.prototype._newParser">
            function <span class="apidocSignatureSpan">formidable.IncomingForm.prototype.</span>_newParser
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.formidable.IncomingForm.prototype._parseContentLength">
            function <span class="apidocSignatureSpan">formidable.IncomingForm.prototype.</span>_parseContentLength
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.formidable.IncomingForm.prototype._parseContentType">
            function <span class="apidocSignatureSpan">formidable.IncomingForm.prototype.</span>_parseContentType
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.formidable.IncomingForm.prototype._uploadPath">
            function <span class="apidocSignatureSpan">formidable.IncomingForm.prototype.</span>_uploadPath
            <span class="apidocSignatureSpan">(filename)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.formidable.IncomingForm.prototype.handlePart">
            function <span class="apidocSignatureSpan">formidable.IncomingForm.prototype.</span>handlePart
            <span class="apidocSignatureSpan">(part)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.formidable.IncomingForm.prototype.onPart">
            function <span class="apidocSignatureSpan">formidable.IncomingForm.prototype.</span>onPart
            <span class="apidocSignatureSpan">(part)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.formidable.IncomingForm.prototype.parse">
            function <span class="apidocSignatureSpan">formidable.IncomingForm.prototype.</span>parse
            <span class="apidocSignatureSpan">(req, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.formidable.IncomingForm.prototype.pause">
            function <span class="apidocSignatureSpan">formidable.IncomingForm.prototype.</span>pause
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.formidable.IncomingForm.prototype.resume">
            function <span class="apidocSignatureSpan">formidable.IncomingForm.prototype.</span>resume
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.formidable.IncomingForm.prototype.write">
            function <span class="apidocSignatureSpan">formidable.IncomingForm.prototype.</span>write
            <span class="apidocSignatureSpan">(buffer)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.formidable.IncomingForm.prototype.writeHeaders">
            function <span class="apidocSignatureSpan">formidable.IncomingForm.prototype.</span>writeHeaders
            <span class="apidocSignatureSpan">(headers)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.formidable.file">module formidable.file</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.formidable.file.file">
            function <span class="apidocSignatureSpan">formidable.</span>file
            <span class="apidocSignatureSpan">(properties)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.formidable.file.super_">
            function <span class="apidocSignatureSpan">formidable.file.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.formidable.file.prototype">module formidable.file.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.formidable.file.prototype.end">
            function <span class="apidocSignatureSpan">formidable.file.prototype.</span>end
            <span class="apidocSignatureSpan">(cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.formidable.file.prototype.open">
            function <span class="apidocSignatureSpan">formidable.file.prototype.</span>open
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.formidable.file.prototype.toJSON">
            function <span class="apidocSignatureSpan">formidable.file.prototype.</span>toJSON
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.formidable.file.prototype.write">
            function <span class="apidocSignatureSpan">formidable.file.prototype.</span>write
            <span class="apidocSignatureSpan">(buffer, cb)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.formidable.incoming_form">module formidable.incoming_form</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.formidable.incoming_form.IncomingForm">
            function <span class="apidocSignatureSpan">formidable.incoming_form.</span>IncomingForm
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.formidable.json_parser">module formidable.json_parser</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.formidable.json_parser.JSONParser">
            function <span class="apidocSignatureSpan">formidable.json_parser.</span>JSONParser
            <span class="apidocSignatureSpan">(parent)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.formidable.multipart_parser">module formidable.multipart_parser</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.formidable.multipart_parser.MultipartParser">
            function <span class="apidocSignatureSpan">formidable.multipart_parser.</span>MultipartParser
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">formidable.multipart_parser.</span>END</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">formidable.multipart_parser.</span>HEADERS_ALMOST_DONE</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">formidable.multipart_parser.</span>HEADER_FIELD</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">formidable.multipart_parser.</span>HEADER_FIELD_START</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">formidable.multipart_parser.</span>HEADER_VALUE</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">formidable.multipart_parser.</span>HEADER_VALUE_ALMOST_DONE</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">formidable.multipart_parser.</span>HEADER_VALUE_START</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">formidable.multipart_parser.</span>PARSER_UNINITIALIZED</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">formidable.multipart_parser.</span>PART_DATA</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">formidable.multipart_parser.</span>PART_DATA_START</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">formidable.multipart_parser.</span>PART_END</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">formidable.multipart_parser.</span>START</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">formidable.multipart_parser.</span>START_BOUNDARY</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.formidable.octet_parser">module formidable.octet_parser</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.formidable.octet_parser.OctetParser">
            function <span class="apidocSignatureSpan">formidable.octet_parser.</span>OctetParser
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.formidable.querystring_parser">module formidable.querystring_parser</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.formidable.querystring_parser.QuerystringParser">
            function <span class="apidocSignatureSpan">formidable.querystring_parser.</span>QuerystringParser
            <span class="apidocSignatureSpan">(maxKeys)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.formidable" id="apidoc.module.formidable">module formidable</a></h1>


    <h2>
        <a href="#apidoc.element.formidable.formidable" id="apidoc.element.formidable.formidable">
        function <span class="apidocSignatureSpan"></span>formidable
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function IncomingForm(opts) {
  if (!(this instanceof IncomingForm)) return new IncomingForm(opts);
  EventEmitter.call(this);

  opts=opts||{};

  this.error = null;
  this.ended = false;

  this.maxFields = opts.maxFields || 1000;
  this.maxFieldsSize = opts.maxFieldsSize || 2 * 1024 * 1024;
  this.keepExtensions = opts.keepExtensions || false;
  this.uploadDir = opts.uploadDir || (os.tmpdir &amp;&amp; os.tmpdir()) || os.tmpDir();
  this.encoding = opts.encoding || 'utf-8';
  this.headers = null;
  this.type = null;
  this.hash = opts.hash || false;
  this.multiples = opts.multiples || false;

  this.bytesReceived = null;
  this.bytesExpected = null;

  this._parser = null;
  this._flushing = 0;
  this._fieldsSize = 0;
  this.openedFiles = [];

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.formidable.IncomingForm" id="apidoc.element.formidable.IncomingForm">
        function <span class="apidocSignatureSpan">formidable.</span>IncomingForm
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function IncomingForm(opts) {
  if (!(this instanceof IncomingForm)) return new IncomingForm(opts);
  EventEmitter.call(this);

  opts=opts||{};

  this.error = null;
  this.ended = false;

  this.maxFields = opts.maxFields || 1000;
  this.maxFieldsSize = opts.maxFieldsSize || 2 * 1024 * 1024;
  this.keepExtensions = opts.keepExtensions || false;
  this.uploadDir = opts.uploadDir || (os.tmpdir &amp;&amp; os.tmpdir()) || os.tmpDir();
  this.encoding = opts.encoding || 'utf-8';
  this.headers = null;
  this.type = null;
  this.hash = opts.hash || false;
  this.multiples = opts.multiples || false;

  this.bytesReceived = null;
  this.bytesExpected = null;

  this._parser = null;
  this._flushing = 0;
  this._fieldsSize = 0;
  this.openedFiles = [];

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var formidable = require('formidable'),
http = require('http'),
util = require('util');

http.createServer(function(req, res) {
  if (req.url == '/upload' &amp;&amp; req.method.toLowerCase() == 'post') {
// parse a file upload
var form = new formidable.<span class="apidocCodeKeywordSpan">IncomingForm</span>();

form.parse(req, function(err, fields, files) {
  res.writeHead(200, {'content-type': 'text/plain'});
  res.write('received upload:\n\n');
  res.end(util.inspect({fields: fields, files: files}));
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.formidable.file" id="apidoc.element.formidable.file">
        function <span class="apidocSignatureSpan">formidable.</span>file
        <span class="apidocSignatureSpan">(properties)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function File(properties) {
  EventEmitter.call(this);

  this.size = 0;
  this.path = null;
  this.name = null;
  this.type = null;
  this.hash = null;
  this.lastModifiedDate = null;

  this._writeStream = null;

  for (var key in properties) {
    this[key] = properties[key];
  }

  if(typeof this.hash === 'string') {
    this.hash = crypto.createHash(properties.hash);
  } else {
    this.hash = null;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.formidable.super_" id="apidoc.element.formidable.super_">
        function <span class="apidocSignatureSpan">formidable.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitter() {
  EventEmitter.init.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
















</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.formidable.IncomingForm" id="apidoc.module.formidable.IncomingForm">module formidable.IncomingForm</a></h1>


    <h2>
        <a href="#apidoc.element.formidable.IncomingForm.IncomingForm" id="apidoc.element.formidable.IncomingForm.IncomingForm">
        function <span class="apidocSignatureSpan">formidable.</span>IncomingForm
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function IncomingForm(opts) {
  if (!(this instanceof IncomingForm)) return new IncomingForm(opts);
  EventEmitter.call(this);

  opts=opts||{};

  this.error = null;
  this.ended = false;

  this.maxFields = opts.maxFields || 1000;
  this.maxFieldsSize = opts.maxFieldsSize || 2 * 1024 * 1024;
  this.keepExtensions = opts.keepExtensions || false;
  this.uploadDir = opts.uploadDir || (os.tmpdir &amp;&amp; os.tmpdir()) || os.tmpDir();
  this.encoding = opts.encoding || 'utf-8';
  this.headers = null;
  this.type = null;
  this.hash = opts.hash || false;
  this.multiples = opts.multiples || false;

  this.bytesReceived = null;
  this.bytesExpected = null;

  this._parser = null;
  this._flushing = 0;
  this._fieldsSize = 0;
  this.openedFiles = [];

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var formidable = require('formidable'),
http = require('http'),
util = require('util');

http.createServer(function(req, res) {
  if (req.url == '/upload' &amp;&amp; req.method.toLowerCase() == 'post') {
// parse a file upload
var form = new formidable.<span class="apidocCodeKeywordSpan">IncomingForm</span>();

form.parse(req, function(err, fields, files) {
  res.writeHead(200, {'content-type': 'text/plain'});
  res.write('received upload:\n\n');
  res.end(util.inspect({fields: fields, files: files}));
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.formidable.IncomingForm.super_" id="apidoc.element.formidable.IncomingForm.super_">
        function <span class="apidocSignatureSpan">formidable.IncomingForm.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitter() {
  EventEmitter.init.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.formidable.IncomingForm.prototype" id="apidoc.module.formidable.IncomingForm.prototype">module formidable.IncomingForm.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.formidable.IncomingForm.prototype._error" id="apidoc.element.formidable.IncomingForm.prototype._error">
        function <span class="apidocSignatureSpan">formidable.IncomingForm.prototype.</span>_error
        <span class="apidocSignatureSpan">(err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_error = function (err) {
  if (this.error || this.ended) {
    return;
  }

  this.error = err;
  this.emit('error', err);

  if (Array.isArray(this.openedFiles)) {
    this.openedFiles.forEach(function(file) {
      file._writeStream.destroy();
      setTimeout(fs.unlink, 0, file.path, function(error) { });
    });
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this.pause = function() {
  try {
    req.pause();
  } catch (err) {
    // the stream was destroyed
    if (!this.ended) {
      // before it was completed, crash &amp; burn
      this.<span class="apidocCodeKeywordSpan">_error</span>(err);
    }
    return false;
  }
  return true;
};

this.resume = function() {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.formidable.IncomingForm.prototype._fileName" id="apidoc.element.formidable.IncomingForm.prototype._fileName">
        function <span class="apidocSignatureSpan">formidable.IncomingForm.prototype.</span>_fileName
        <span class="apidocSignatureSpan">(headerValue)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_fileName = function (headerValue) {
  // matches either a quoted-string or a token (RFC 2616 section 19.5.1)
  var m = headerValue.match(/\bfilename=("(.*?)"|([^\(\)&lt;&gt;@,;:\\"\/\[\]\?=\{\}\s\t/]+))($|;\s)/i);
  if (!m) return;

  var match = m[2] || m[3] || '';
  var filename = match.substr(match.lastIndexOf('\\') + 1);
  filename = filename.replace(/%22/g, '"');
  filename = filename.replace(/&amp;#([\d]{4});/g, function(m, code) {
    return String.fromCharCode(code);
  });
  return filename;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// matches either a quoted-string or a token (RFC 2616 section 19.5.1)
var m = headerValue.match(/\bname=("([^"]*)"|([^\(\)&lt;&gt;@,;:\\"\/\[\]\?=\{\}\s\t/]+))/i);
if (headerField == 'content-disposition') {
  if (m) {
    part.name = m[2] || m[3] || '';
  }

  part.filename = self.<span class="apidocCodeKeywordSpan">_fileName</span>(headerValue);
} else if (headerField == 'content-type') {
  part.mime = headerValue;
} else if (headerField == 'content-transfer-encoding') {
  part.transferEncoding = headerValue.toLowerCase();
}

headerField = '';
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.formidable.IncomingForm.prototype._initJSONencoded" id="apidoc.element.formidable.IncomingForm.prototype._initJSONencoded">
        function <span class="apidocSignatureSpan">formidable.IncomingForm.prototype.</span>_initJSONencoded
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_initJSONencoded = function () {
  this.type = 'json';

  var parser = new JSONParser(this)
    , self = this;

  if (this.bytesExpected) {
    parser.initWithLength(this.bytesExpected);
  }

  parser.onField = function(key, val) {
    self.emit('field', key, val);
  };

  parser.onEnd = function() {
    self.ended = true;
    self._maybeEnd();
  };

  this._parser = parser;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    } else {
      this._error(new Error('bad content-type header, no multipart boundary'));
    }
    return;
  }

  if (this.headers['content-type'].match(/json/i)) {
    this.<span class="apidocCodeKeywordSpan">_initJSONencoded</span>();
    return;
  }

  this._error(new Error('bad content-type header, unknown content-type: '+this.headers['content-type']));
};

IncomingForm.prototype._error = function(err) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.formidable.IncomingForm.prototype._initMultipart" id="apidoc.element.formidable.IncomingForm.prototype._initMultipart">
        function <span class="apidocSignatureSpan">formidable.IncomingForm.prototype.</span>_initMultipart
        <span class="apidocSignatureSpan">(boundary)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_initMultipart = function (boundary) {
  this.type = 'multipart';

  var parser = new MultipartParser(),
      self = this,
      headerField,
      headerValue,
      part;

  parser.initWithBoundary(boundary);

  parser.onPartBegin = function() {
    part = new Stream();
    part.readable = true;
    part.headers = {};
    part.name = null;
    part.filename = null;
    part.mime = null;

    part.transferEncoding = 'binary';
    part.transferBuffer = '';

    headerField = '';
    headerValue = '';
  };

  parser.onHeaderField = function(b, start, end) {
    headerField += b.toString(self.encoding, start, end);
  };

  parser.onHeaderValue = function(b, start, end) {
    headerValue += b.toString(self.encoding, start, end);
  };

  parser.onHeaderEnd = function() {
    headerField = headerField.toLowerCase();
    part.headers[headerField] = headerValue;

    // matches either a quoted-string or a token (RFC 2616 section 19.5.1)
    var m = headerValue.match(/\bname=("([^"]*)"|([^\(\)&lt;&gt;@,;:\\"\/\[\]\?=\{\}\s\t/]+))/i);
    if (headerField == 'content-disposition') {
      if (m) {
        part.name = m[2] || m[3] || '';
      }

      part.filename = self._fileName(headerValue);
    } else if (headerField == 'content-type') {
      part.mime = headerValue;
    } else if (headerField == 'content-transfer-encoding') {
      part.transferEncoding = headerValue.toLowerCase();
    }

    headerField = '';
    headerValue = '';
  };

  parser.onHeadersEnd = function() {
    switch(part.transferEncoding){
      case 'binary':
      case '7bit':
      case '8bit':
      parser.onPartData = function(b, start, end) {
        part.emit('data', b.slice(start, end));
      };

      parser.onPartEnd = function() {
        part.emit('end');
      };
      break;

      case 'base64':
      parser.onPartData = function(b, start, end) {
        part.transferBuffer += b.slice(start, end).toString('ascii');

<span class="apidocCodeCommentSpan">        /*
        four bytes (chars) in base64 converts to three bytes in binary
        encoding. So we should always work with a number of bytes that
        can be divided by 4, it will result in a number of buytes that
        can be divided vy 3.
        */
</span>        var offset = parseInt(part.transferBuffer.length / 4, 10) * 4;
        part.emit('data', new Buffer(part.transferBuffer.substring(0, offset), 'base64'));
        part.transferBuffer = part.transferBuffer.substring(offset);
      };

      parser.onPartEnd = function() {
        part.emit('data', new Buffer(part.transferBuffer, 'base64'));
        part.emit('end');
      };
      break;

      default:
      return self._error(new Error('unknown transfer-encoding'));
    }

    self.onPart(part);
  };


  parser.onEnd = function() {
    self.ended = true;
    self._maybeEnd();
  };

  this._parser = parser;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this._initUrlencoded();
  return;
}

if (this.headers['content-type'].match(/multipart/i)) {
  var m = this.headers['content-type'].match(/boundary=(?:"([^"]+)"|([^;]+))/i);
  if (m) {
    this.<span class="apidocCodeKeywordSpan">_initMultipart</span>(m[1] || m[2]);
  } else {
    this._error(new Error('bad content-type header, no multipart boundary'));
  }
  return;
}

if (this.headers['content-type'].match(/json/i)) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.formidable.IncomingForm.prototype._initOctetStream" id="apidoc.element.formidable.IncomingForm.prototype._initOctetStream">
        function <span class="apidocSignatureSpan">formidable.IncomingForm.prototype.</span>_initOctetStream
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_initOctetStream = function () {
  this.type = 'octet-stream';
  var filename = this.headers['x-file-name'];
  var mime = this.headers['content-type'];

  var file = new File({
    path: this._uploadPath(filename),
    name: filename,
    type: mime
  });

  this.emit('fileBegin', filename, file);
  file.open();

  this._flushing++;

  var self = this;

  self._parser = new OctetParser();

  //Keep track of writes that haven't finished so we don't emit the file before it's done being written
  var outstandingWrites = 0;

  self._parser.on('data', function(buffer){
    self.pause();
    outstandingWrites++;

    file.write(buffer, function() {
      outstandingWrites--;
      self.resume();

      if(self.ended){
        self._parser.emit('doneWritingFile');
      }
    });
  });

  self._parser.on('end', function(){
    self._flushing--;
    self.ended = true;

    var done = function(){
      file.end(function() {
        self.emit('file', 'file', file);
        self._maybeEnd();
      });
    };

    if(outstandingWrites === 0){
      done();
    } else {
      self._parser.once('doneWritingFile', done);
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

if (!this.headers['content-type']) {
  this._error(new Error('bad content-type header, no content-type'));
  return;
}

if (this.headers['content-type'].match(/octet-stream/i)) {
  this.<span class="apidocCodeKeywordSpan">_initOctetStream</span>();
  return;
}

if (this.headers['content-type'].match(/urlencoded/i)) {
  this._initUrlencoded();
  return;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.formidable.IncomingForm.prototype._initUrlencoded" id="apidoc.element.formidable.IncomingForm.prototype._initUrlencoded">
        function <span class="apidocSignatureSpan">formidable.IncomingForm.prototype.</span>_initUrlencoded
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_initUrlencoded = function () {
  this.type = 'urlencoded';

  var parser = new QuerystringParser(this.maxFields)
    , self = this;

  parser.onField = function(key, val) {
    self.emit('field', key, val);
  };

  parser.onEnd = function() {
    self.ended = true;
    self._maybeEnd();
  };

  this._parser = parser;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

if (this.headers['content-type'].match(/octet-stream/i)) {
  this._initOctetStream();
  return;
}

if (this.headers['content-type'].match(/urlencoded/i)) {
  this.<span class="apidocCodeKeywordSpan">_initUrlencoded</span>();
  return;
}

if (this.headers['content-type'].match(/multipart/i)) {
  var m = this.headers['content-type'].match(/boundary=(?:"([^"]+)"|([^;]+))/i);
  if (m) {
    this._initMultipart(m[1] || m[2]);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.formidable.IncomingForm.prototype._maybeEnd" id="apidoc.element.formidable.IncomingForm.prototype._maybeEnd">
        function <span class="apidocSignatureSpan">formidable.IncomingForm.prototype.</span>_maybeEnd
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_maybeEnd = function () {
  if (!this.ended || this._flushing || this.error) {
    return;
  }

  this.emit('end');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  });
});

part.on('end', function() {
  file.end(function() {
    self._flushing--;
    self.emit('file', part.name, file);
    self.<span class="apidocCodeKeywordSpan">_maybeEnd</span>();
  });
});
};

function dummyParser(self) {
return {
  end: function () {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.formidable.IncomingForm.prototype._newParser" id="apidoc.element.formidable.IncomingForm.prototype._newParser">
        function <span class="apidocSignatureSpan">formidable.IncomingForm.prototype.</span>_newParser
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_newParser = function () {
  return new MultipartParser();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.formidable.IncomingForm.prototype._parseContentLength" id="apidoc.element.formidable.IncomingForm.prototype._parseContentLength">
        function <span class="apidocSignatureSpan">formidable.IncomingForm.prototype.</span>_parseContentLength
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_parseContentLength = function () {
  this.bytesReceived = 0;
  if (this.headers['content-length']) {
    this.bytesExpected = parseInt(this.headers['content-length'], 10);
  } else if (this.headers['transfer-encoding'] === undefined) {
    this.bytesExpected = 0;
  }

  if (this.bytesExpected !== null) {
    this.emit('progress', this.bytesReceived, this.bytesExpected);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  });

return this;
};

IncomingForm.prototype.writeHeaders = function(headers) {
this.headers = headers;
this.<span class="apidocCodeKeywordSpan">_parseContentLength</span>();
this._parseContentType();
};

IncomingForm.prototype.write = function(buffer) {
if (this.error) {
  return;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.formidable.IncomingForm.prototype._parseContentType" id="apidoc.element.formidable.IncomingForm.prototype._parseContentType">
        function <span class="apidocSignatureSpan">formidable.IncomingForm.prototype.</span>_parseContentType
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_parseContentType = function () {
  if (this.bytesExpected === 0) {
    this._parser = dummyParser(this);
    return;
  }

  if (!this.headers['content-type']) {
    this._error(new Error('bad content-type header, no content-type'));
    return;
  }

  if (this.headers['content-type'].match(/octet-stream/i)) {
    this._initOctetStream();
    return;
  }

  if (this.headers['content-type'].match(/urlencoded/i)) {
    this._initUrlencoded();
    return;
  }

  if (this.headers['content-type'].match(/multipart/i)) {
    var m = this.headers['content-type'].match(/boundary=(?:"([^"]+)"|([^;]+))/i);
    if (m) {
      this._initMultipart(m[1] || m[2]);
    } else {
      this._error(new Error('bad content-type header, no multipart boundary'));
    }
    return;
  }

  if (this.headers['content-type'].match(/json/i)) {
    this._initJSONencoded();
    return;
  }

  this._error(new Error('bad content-type header, unknown content-type: '+this.headers['content-type']));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

return this;
};

IncomingForm.prototype.writeHeaders = function(headers) {
this.headers = headers;
this._parseContentLength();
this.<span class="apidocCodeKeywordSpan">_parseContentType</span>();
};

IncomingForm.prototype.write = function(buffer) {
if (this.error) {
  return;
}
if (!this._parser) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.formidable.IncomingForm.prototype._uploadPath" id="apidoc.element.formidable.IncomingForm.prototype._uploadPath">
        function <span class="apidocSignatureSpan">formidable.IncomingForm.prototype.</span>_uploadPath
        <span class="apidocSignatureSpan">(filename)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_uploadPath = function (filename) {
  var buf = crypto.randomBytes(16);
  var name = 'upload_' + buf.toString('hex');

  if (this.keepExtensions) {
    var ext = path.extname(filename);
    ext     = ext.replace(/(\.[a-z0-9]+).*/i, '$1');

    name += ext;
  }

  return path.join(this.uploadDir, name);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  });
  return;
}

this._flushing++;

var file = new File({
  path: this.<span class="apidocCodeKeywordSpan">_uploadPath</span>(part.filename),
  name: part.filename,
  type: part.mime,
  hash: self.hash
});

this.emit('fileBegin', part.name, file);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.formidable.IncomingForm.prototype.handlePart" id="apidoc.element.formidable.IncomingForm.prototype.handlePart">
        function <span class="apidocSignatureSpan">formidable.IncomingForm.prototype.</span>handlePart
        <span class="apidocSignatureSpan">(part)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">handlePart = function (part) {
  var self = this;

  if (part.filename === undefined) {
    var value = ''
      , decoder = new StringDecoder(this.encoding);

    part.on('data', function(buffer) {
      self._fieldsSize += buffer.length;
      if (self._fieldsSize &gt; self.maxFieldsSize) {
        self._error(new Error('maxFieldsSize exceeded, received '+self._fieldsSize+' bytes of field data'));
        return;
      }
      value += decoder.write(buffer);
    });

    part.on('end', function() {
      self.emit('field', part.name, value);
    });
    return;
  }

  this._flushing++;

  var file = new File({
    path: this._uploadPath(part.filename),
    name: part.filename,
    type: part.mime,
    hash: self.hash
  });

  this.emit('fileBegin', part.name, file);

  file.open();
  this.openedFiles.push(file);

  part.on('data', function(buffer) {
    if (buffer.length == 0) {
      return;
    }
    self.pause();
    file.write(buffer, function() {
      self.resume();
    });
  });

  part.on('end', function() {
    file.end(function() {
      self._flushing--;
      self.emit('file', part.name, file);
      self._maybeEnd();
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}
```
If you want to use formidable to only handle certain parts for you, you can do so:
```javascript
form.onPart = function(part) {
  if (!part.filename) {
    // let formidable handle all non-file parts
    form.<span class="apidocCodeKeywordSpan">handlePart</span>(part);
  }
}
```
Check the code in this method for further inspiration.


### Formidable.File
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.formidable.IncomingForm.prototype.onPart" id="apidoc.element.formidable.IncomingForm.prototype.onPart">
        function <span class="apidocSignatureSpan">formidable.IncomingForm.prototype.</span>onPart
        <span class="apidocSignatureSpan">(part)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onPart = function (part) {
  // this method can be overwritten by the user
  this.handlePart(part);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...


```javascript
form.parse(req, function(err, fields, files) {
// ...
});

form.<span class="apidocCodeKeywordSpan">onPart</span>(part);
```
You may overwrite this method if you are interested in directly accessing the multipart stream. Doing so will disable any `'
;field'` / `'file'` events  processing which would occur otherwise, making you fully responsible for handling the
 processing.

```javascript
form.onPart = function(part) {
part.addListener('data', function() {
  // ...
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.formidable.IncomingForm.prototype.parse" id="apidoc.element.formidable.IncomingForm.prototype.parse">
        function <span class="apidocSignatureSpan">formidable.IncomingForm.prototype.</span>parse
        <span class="apidocSignatureSpan">(req, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parse = function (req, cb) {
  this.pause = function() {
    try {
      req.pause();
    } catch (err) {
      // the stream was destroyed
      if (!this.ended) {
        // before it was completed, crash &amp; burn
        this._error(err);
      }
      return false;
    }
    return true;
  };

  this.resume = function() {
    try {
      req.resume();
    } catch (err) {
      // the stream was destroyed
      if (!this.ended) {
        // before it was completed, crash &amp; burn
        this._error(err);
      }
      return false;
    }

    return true;
  };

  // Setup callback first, so we don't miss anything from data events emitted
  // immediately.
  if (cb) {
    var fields = {}, files = {};
    this
      .on('field', function(name, value) {
        fields[name] = value;
      })
      .on('file', function(name, file) {
        if (this.multiples) {
          if (files[name]) {
            if (!Array.isArray(files[name])) {
              files[name] = [files[name]];
            }
            files[name].push(file);
          } else {
            files[name] = file;
          }
        } else {
          files[name] = file;
        }
      })
      .on('error', function(err) {
        cb(err, fields, files);
      })
      .on('end', function() {
        cb(null, fields, files);
      });
  }

  // Parse headers and setup the parser, ready to start listening for data.
  this.writeHeaders(req.headers);

  // Start listening for data.
  var self = this;
  req
    .on('error', function(err) {
      self._error(err);
    })
    .on('aborted', function() {
      self.emit('aborted');
      self._error(new Error('Request aborted'));
    })
    .on('data', function(buffer) {
      self.write(buffer);
    })
    .on('end', function() {
      if (self.error) {
        return;
      }

      var err = self._parser.end();
      if (err) {
        self._error(err);
      }
    });

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  util = require('util');

http.createServer(function(req, res) {
if (req.url == '/upload' &amp;&amp; req.method.toLowerCase() == 'post') {
  // parse a file upload
  var form = new formidable.IncomingForm();

  form.<span class="apidocCodeKeywordSpan">parse</span>(req, function(err, fields, files) {
    res.writeHead(200, {'content-type': 'text/plain'});
    res.write('received upload:\n\n');
    res.end(util.inspect({fields: fields, files: files}));
  });

  return;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.formidable.IncomingForm.prototype.pause" id="apidoc.element.formidable.IncomingForm.prototype.pause">
        function <span class="apidocSignatureSpan">formidable.IncomingForm.prototype.</span>pause
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pause = function () {
  // this does nothing, unless overwritten in IncomingForm.parse
  return false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}
util.inherits(IncomingForm, EventEmitter);
exports.IncomingForm = IncomingForm;

IncomingForm.prototype.parse = function(req, cb) {
this.pause = function() {
  try {
    req.<span class="apidocCodeKeywordSpan">pause</span>();
  } catch (err) {
    // the stream was destroyed
    if (!this.ended) {
      // before it was completed, crash &amp; burn
      this._error(err);
    }
    return false;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.formidable.IncomingForm.prototype.resume" id="apidoc.element.formidable.IncomingForm.prototype.resume">
        function <span class="apidocSignatureSpan">formidable.IncomingForm.prototype.</span>resume
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">resume = function () {
  // this does nothing, unless overwritten in IncomingForm.parse
  return false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```javascript
form.on('file', function(name, file) {
});
```

#### 'error'

Emitted when there is an error processing the incoming form. A request that experiences an error is automatically paused, you will
 have to manually call `request.<span class="apidocCodeKeywordSpan">resume</span>()` if you want the request to continue firing `&amp;#
x27;data'` events.

```javascript
form.on('error', function(err) {
});
```

#### 'aborted'
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.formidable.IncomingForm.prototype.write" id="apidoc.element.formidable.IncomingForm.prototype.write">
        function <span class="apidocSignatureSpan">formidable.IncomingForm.prototype.</span>write
        <span class="apidocSignatureSpan">(buffer)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">write = function (buffer) {
  if (this.error) {
    return;
  }
  if (!this._parser) {
    this._error(new Error('uninitialized parser'));
    return;
  }

  this.bytesReceived += buffer.length;
  this.emit('progress', this.bytesReceived, this.bytesExpected);

  var bytesParsed = this._parser.write(buffer);
  if (bytesParsed !== buffer.length) {
    this._error(new Error('parser error, '+bytesParsed+' of '+buffer.length+' bytes parsed'));
  }

  return bytesParsed;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
http.createServer(function(req, res) {
if (req.url == '/upload' &amp;&amp; req.method.toLowerCase() == 'post') {
  // parse a file upload
  var form = new formidable.IncomingForm();

  form.parse(req, function(err, fields, files) {
    res.writeHead(200, {'content-type': 'text/plain'});
    res.<span class="apidocCodeKeywordSpan">write</span>('received upload:\n\n');
    res.end(util.inspect({fields: fields, files: files}));
  });

  return;
}

// show a file upload form
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.formidable.IncomingForm.prototype.writeHeaders" id="apidoc.element.formidable.IncomingForm.prototype.writeHeaders">
        function <span class="apidocSignatureSpan">formidable.IncomingForm.prototype.</span>writeHeaders
        <span class="apidocSignatureSpan">(headers)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">writeHeaders = function (headers) {
  this.headers = headers;
  this._parseContentLength();
  this._parseContentType();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    })
    .on('end', function() {
      cb(null, fields, files);
    });
}

// Parse headers and setup the parser, ready to start listening for data.
this.<span class="apidocCodeKeywordSpan">writeHeaders</span>(req.headers);

// Start listening for data.
var self = this;
req
  .on('error', function(err) {
    self._error(err);
  })
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.formidable.file" id="apidoc.module.formidable.file">module formidable.file</a></h1>


    <h2>
        <a href="#apidoc.element.formidable.file.file" id="apidoc.element.formidable.file.file">
        function <span class="apidocSignatureSpan">formidable.</span>file
        <span class="apidocSignatureSpan">(properties)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function File(properties) {
  EventEmitter.call(this);

  this.size = 0;
  this.path = null;
  this.name = null;
  this.type = null;
  this.hash = null;
  this.lastModifiedDate = null;

  this._writeStream = null;

  for (var key in properties) {
    this[key] = properties[key];
  }

  if(typeof this.hash === 'string') {
    this.hash = crypto.createHash(properties.hash);
  } else {
    this.hash = null;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.formidable.file.super_" id="apidoc.element.formidable.file.super_">
        function <span class="apidocSignatureSpan">formidable.file.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitter() {
  EventEmitter.init.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.formidable.file.prototype" id="apidoc.module.formidable.file.prototype">module formidable.file.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.formidable.file.prototype.end" id="apidoc.element.formidable.file.prototype.end">
        function <span class="apidocSignatureSpan">formidable.file.prototype.</span>end
        <span class="apidocSignatureSpan">(cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">end = function (cb) {
  var self = this;
  if (self.hash) {
    self.hash = self.hash.digest('hex');
  }
  this._writeStream.end(function() {
    self.emit('end');
    cb();
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (req.url == '/upload' &amp;&amp; req.method.toLowerCase() == 'post') {
  // parse a file upload
  var form = new formidable.IncomingForm();

  form.parse(req, function(err, fields, files) {
    res.writeHead(200, {'content-type': 'text/plain'});
    res.write('received upload:\n\n');
    res.<span class="apidocCodeKeywordSpan">end</span>(util.inspect({fields: fields, files: files}));
  });

  return;
}

// show a file upload form
res.writeHead(200, {'content-type': 'text/html'});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.formidable.file.prototype.open" id="apidoc.element.formidable.file.prototype.open">
        function <span class="apidocSignatureSpan">formidable.file.prototype.</span>open
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">open = function () {
  this._writeStream = new fs.WriteStream(this.path);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  name: part.filename,
  type: part.mime,
  hash: self.hash
});

this.emit('fileBegin', part.name, file);

file.<span class="apidocCodeKeywordSpan">open</span>();
this.openedFiles.push(file);

part.on('data', function(buffer) {
  if (buffer.length == 0) {
    return;
  }
  self.pause();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.formidable.file.prototype.toJSON" id="apidoc.element.formidable.file.prototype.toJSON">
        function <span class="apidocSignatureSpan">formidable.file.prototype.</span>toJSON
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toJSON = function () {
  var json = {
    size: this.size,
    path: this.path,
    name: this.name,
    type: this.type,
    mtime: this.lastModifiedDate,
    length: this.length,
    filename: this.filename,
    mime: this.mime
  };
  if (this.hash &amp;&amp; this.hash != "") {
    json.hash = this.hash;
  }
  return json;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.formidable.file.prototype.write" id="apidoc.element.formidable.file.prototype.write">
        function <span class="apidocSignatureSpan">formidable.file.prototype.</span>write
        <span class="apidocSignatureSpan">(buffer, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">write = function (buffer, cb) {
  var self = this;
  if (self.hash) {
    self.hash.update(buffer);
  }
  this._writeStream.write(buffer, function() {
    self.lastModifiedDate = new Date();
    self.size += buffer.length;
    self.emit('progress', self.size);
    cb();
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
http.createServer(function(req, res) {
if (req.url == '/upload' &amp;&amp; req.method.toLowerCase() == 'post') {
  // parse a file upload
  var form = new formidable.IncomingForm();

  form.parse(req, function(err, fields, files) {
    res.writeHead(200, {'content-type': 'text/plain'});
    res.<span class="apidocCodeKeywordSpan">write</span>('received upload:\n\n');
    res.end(util.inspect({fields: fields, files: files}));
  });

  return;
}

// show a file upload form
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.formidable.incoming_form" id="apidoc.module.formidable.incoming_form">module formidable.incoming_form</a></h1>


    <h2>
        <a href="#apidoc.element.formidable.incoming_form.IncomingForm" id="apidoc.element.formidable.incoming_form.IncomingForm">
        function <span class="apidocSignatureSpan">formidable.incoming_form.</span>IncomingForm
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function IncomingForm(opts) {
  if (!(this instanceof IncomingForm)) return new IncomingForm(opts);
  EventEmitter.call(this);

  opts=opts||{};

  this.error = null;
  this.ended = false;

  this.maxFields = opts.maxFields || 1000;
  this.maxFieldsSize = opts.maxFieldsSize || 2 * 1024 * 1024;
  this.keepExtensions = opts.keepExtensions || false;
  this.uploadDir = opts.uploadDir || (os.tmpdir &amp;&amp; os.tmpdir()) || os.tmpDir();
  this.encoding = opts.encoding || 'utf-8';
  this.headers = null;
  this.type = null;
  this.hash = opts.hash || false;
  this.multiples = opts.multiples || false;

  this.bytesReceived = null;
  this.bytesExpected = null;

  this._parser = null;
  this._flushing = 0;
  this._fieldsSize = 0;
  this.openedFiles = [];

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var formidable = require('formidable'),
http = require('http'),
util = require('util');

http.createServer(function(req, res) {
  if (req.url == '/upload' &amp;&amp; req.method.toLowerCase() == 'post') {
// parse a file upload
var form = new formidable.<span class="apidocCodeKeywordSpan">IncomingForm</span>();

form.parse(req, function(err, fields, files) {
  res.writeHead(200, {'content-type': 'text/plain'});
  res.write('received upload:\n\n');
  res.end(util.inspect({fields: fields, files: files}));
});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.formidable.json_parser" id="apidoc.module.formidable.json_parser">module formidable.json_parser</a></h1>


    <h2>
        <a href="#apidoc.element.formidable.json_parser.JSONParser" id="apidoc.element.formidable.json_parser.JSONParser">
        function <span class="apidocSignatureSpan">formidable.json_parser.</span>JSONParser
        <span class="apidocSignatureSpan">(parent)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function JSONParser(parent) {
  this.parent = parent;
  this.data = new Buffer('');
  this.bytesWritten = 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.formidable.multipart_parser" id="apidoc.module.formidable.multipart_parser">module formidable.multipart_parser</a></h1>


    <h2>
        <a href="#apidoc.element.formidable.multipart_parser.MultipartParser" id="apidoc.element.formidable.multipart_parser.MultipartParser">
        function <span class="apidocSignatureSpan">formidable.multipart_parser.</span>MultipartParser
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function MultipartParser() {
  this.boundary = null;
  this.boundaryChars = null;
  this.lookbehind = null;
  this.state = S.PARSER_UNINITIALIZED;

  this.index = null;
  this.flags = 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




























</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.formidable.octet_parser" id="apidoc.module.formidable.octet_parser">module formidable.octet_parser</a></h1>


    <h2>
        <a href="#apidoc.element.formidable.octet_parser.OctetParser" id="apidoc.element.formidable.octet_parser.OctetParser">
        function <span class="apidocSignatureSpan">formidable.octet_parser.</span>OctetParser
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function OctetParser(options){
	if(!(this instanceof OctetParser)) return new OctetParser(options);
	EventEmitter.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.formidable.querystring_parser" id="apidoc.module.formidable.querystring_parser">module formidable.querystring_parser</a></h1>


    <h2>
        <a href="#apidoc.element.formidable.querystring_parser.QuerystringParser" id="apidoc.element.formidable.querystring_parser.QuerystringParser">
        function <span class="apidocSignatureSpan">formidable.querystring_parser.</span>QuerystringParser
        <span class="apidocSignatureSpan">(maxKeys)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function QuerystringParser(maxKeys) {
  this.maxKeys = maxKeys;
  this.buffer = '';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>